<section class="inner-page">
<div class="profile">

<div class="inner-head">
<div class="container">
<div class="row">
<div class="col-12">
<h2>{{ 'CGP.CONTENTS.Contents' | translate }}</h2>
</div>
</div>
</div>
</div>
<div class="container-fluid inner-head-link">
<div class="row">
<div class="col-12">
    <div class="container">
            <div class="inner-head-link">
                    <ul class="nav nav-tabs" role="tablist">
                            <li class="nav-item" >
                                <a [ngClass]="{'active': tab === 'tabs-1'}" class="nav-link" data-toggle="tab" href="#tabs-1" role="tab">{{ 'CGP.CONTENTS.draft' | translate }}</a>
                            </li>
                            <li class="nav-item">
                                <a [ngClass]="{'active': tab === 'tabs-2'}" class="nav-link active" data-toggle="tab" href="#tabs-2" role="tab">{{ 'CGP.CONTENTS.published' | translate }}</a>
                            </li>
                        </ul>
            </div>
    </div>
</div>

</div>
</div>

  <div style="position: relative">
    <div id="loader-cgp">
<div class="container">
<div class="row">
<div class="col-12">
<div class="profile-details mar-btm-50">
    <!-- Tab panes -->
        <div class="tab-content">
            <div class="tab-pane" [ngClass]="{'active': tab === 'tabs-1'}" id="tabs-1" role="tabpanel">
                <div class="row">
                    <div class="col-lg-12">
                        <div class="text-right mar-top-20">
                            <button class="btn btn-outline-pri w-auto" routerLink="/cgp/article">{{ 'CGP.CONTENTS.Create-an-article' | translate }}</button>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-lg-12">
                        <div class="pad-20 table-responsive content-table">
                                <table class="table">
                                        <thead>
                                            <tr>
                                            <th>{{ 'CGP.CONTENTS.date' | translate }}</th>
                                            <th>{{ 'CGP.CONTENTS.title' | translate }}</th>
                                            <th>{{ 'CGP.CONTENTS.Author' | translate }}</th>
                                            <th>{{ 'CGP.CONTENTS.Tags' | translate }}</th>
                                            <th></th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr *ngFor="let draft of viewCGPDraftArticle | slice:startPage:paginationLimit">
                                            <td>{{draft.createdAt | date:'mediumDate'}}</td>
                                            <td>{{draft.title}}</td>
                                            <td>{{authorname}}</td>
                                            <td><span *ngFor="let tags of draft.cgpArticlesTags; let isLast=last">{{tags.subtopicTags.tagTitle}}{{isLast ? '' : ', '}}</span></td>
                                            <td class="text-right">
                                               <button class="btn btn-outline-pri w-auto mar-r-20" routerLink="/cgp/article/{{draft.title}}">{{ 'CGP.CONTENTS.edit' | translate }}</button>
                                            </td>
                                            <td>
                                                <button class="btn btn-none" (click)="deleteArticle(draft.id,'draft')"><i class="far fa-trash-alt"></i></button>
                                            </td>
                                            </tr>

                                        </tbody>
                                        </table>
                        </div>
                    </div>
                    <div class="row mar-btm-20">
                        <div class="col-12 text-right">
                            <a *ngIf ="paginationLimit < viewCGPDraftArticle.length" (click)="showMoreItems()">{{ 'CGP.CONTENTS.Show-more' | translate }} <i class="fas fa-sort-down"></i> </a>
                            <a *ngIf ="paginationLimit > 10" (click)="showLessItems()">
                                {{ 'CGP.CONTENTS.Show-less' | translate }} <i class="fas fa-sort-up"></i>
                            </a>
                        </div>
                    </div>
                </div>
            </div>
           <div class="tab-pane active" [ngClass]="{'active': tab === 'tabs-2'}" id="tabs-2" role="tabpanel">
                            <div class="row">
                                <div class="col-lg-12">
                                    <div class="text-right mar-top-20">
                                        <button class="btn btn-outline-pri w-auto" routerLink="/cgp/article">{{ 'CGP.CONTENTS.Create-an-article' | translate }}</button>
                                    </div>
                                </div>
                            </div> 
                                <div class="row">
                                    <div class="col-lg-12">
                                        <div class="pad-20 table-responsive content-table">
                                                <table class="table">
                                                        <thead>
                                                            <tr>
                                                            <th>{{ 'CGP.CONTENTS.date' | translate }}</th>
                                                            <th>{{ 'CGP.CONTENTS.title' | translate }}</th>
                                                            <th>{{ 'CGP.CONTENTS.Author' | translate }}</th>
                                                            <th>{{ 'CGP.CONTENTS.Tags' | translate }}</th>
                                                            <th></th>
                                                            </tr>
                                                        </thead>
                                                        <tbody>
                                                            <tr *ngFor="let publish of viewCGPPublishArticle | slice:startPage:paginationLimit1">
                                                            <td>{{publish.createdAt | date:'mediumDate'}}</td>
                                                            <td>{{publish.title}}</td>
                                                            <td>{{authorname}}</td>
                                                            <td><span *ngFor="let tags of publish.cgpArticlesTags; let isLast=last">{{tags.subtopicTags.tagTitle}}{{isLast ? '' : ', '}}</span></td>
                                                            <td class="text-right">
                                                                    <button class="btn btn-outline-pri w-auto mar-r-20" [routerLink]="'/landing/articles/view/' + publish?.title">{{ 'CGP.CONTENTS.See' | translate }}</button>
                                                            </td>
                                                            <td>
                                                            <button class="btn btn-none" (click)="deleteArticle(publish.id,'publish')"><i class="far fa-trash-alt"></i></button>
                                                            </td>
                                                            </tr>

                                            </tbody>
                                            </table>
                            </div>
                        </div>
                        <div class="row mar-btm-20">
                            <div class="col-12 text-right">
                                <a *ngIf ="paginationLimit1 < viewCGPPublishArticle.length" (click)="showMoreItems1()">{{ 'CGP.CONTENTS.Show-more' | translate }} <i class="fas fa-sort-down"></i> </a>
                                <a *ngIf ="paginationLimit1 > 10" (click)="showLessItems1()">
                                    {{ 'CGP.CONTENTS.Show-less' | translate }} <i class="fas fa-sort-up"></i>
                                </a>
                            </div>
                        </div>
                    </div>
            </div>
        </div>
</div>
</div>

</div>
</div>

    </div>
    <ngx-ui-loader bdColor="rgba(0, 0, 0, 0.8)" size="medium" [hasProgressBar]="false" fgsColor="#fff" fgsType="ball-scale-multiple" [loaderId]="'loader-cgp'"></ngx-ui-loader>
  </div>


</div>
</section>

<div class="modal" id="image-upload" [style.display]="showModal ? 'block' : 'none'">
    <div class="modal-dialog modal-dialog-centered">
      <div class="modal-content">
          <!-- Modal Header -->
        <div class="modal-header">
                <h4 class="modal-title" *ngIf="status=='draft'">{{'CGP.CONTENTS.draft-delete-msg' | translate}}</h4>
                <h4 class="modal-title" *ngIf="status=='publish'">{{'CGP.CONTENTS.publish-delete-msg' | translate}}</h4>
                <button type="button" class="close" data-dismiss="modal" (click) ="goBack()">&times;</button>
              </div>
        <!-- Modal body -->

        <div class="modal-body">
                <div class="container">

                    </div>
                    <p class="text-right">
                    <button type="button" class="btn float-right btn-primary-right" (click) ="goBack()">
                        {{'CGP.CONTENTS.no' | translate}}
                   </button>
                        <button class="btn float-right btn-primary-right normal-btn mar-r-20" (click) ="deleteArt()" type="button">
                            {{'CGP.CONTENTS.yes' | translate}}
                    </button>
                   </p>

        </div>

      </div>

    </div>
</div>
